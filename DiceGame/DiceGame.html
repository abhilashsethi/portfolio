<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DiceGame</title>
</head>
<body>
    Name : <input type="text" name="" value="Abhilash">
     <button type="button" id="1" class="dice">Roll The Dice</button>
    Scroe : <span> </span> <br> <br>

    Name : <input type="text" name="" value="Danish">
     <button type="button" id="2" class="dice">Roll The Dice</button>
    Scroe : <span> </span> <br> <br>

    Name : <input type="text" name="" value="Subhashree">
     <button type="button" id="3" class="dice">Roll The Dice</button>
    Scroe : <span> </span> <br> <br>

    Name : <input type="text" name="" value="Sudhanshu">
     <button type="button" id="4" class="dice">Roll The Dice</button>
    Scroe : <span> </span> <br> <br>

    Name : <input type="text" name="" value="Abhishek">
     <button type="button" id="5" class="dice">Roll The Dice</button>
    Scroe : <span> </span> <br> <br>

    <button id="winner">Find Winner</button> <br><br>
    <div id="result"></div>
    <script>
        players = document.querySelectorAll("input")
        buttons = document.querySelectorAll(".dice")
        scores = document.querySelectorAll("span")
        winnerButton = document.getElementById("winner")
        result = document.getElementById("result")

        winnerButton.disabled = true

        for(let t of buttons){
            t.addEventListener("click", rollTheDice)
        }
        let button_clicks = 0
        function rollTheDice(e){
            button_clicks++
            if(button_clicks == 5){
                winnerButton.disabled = false
            }
            user_id = e.target.id-1
            buttons[user_id].disabled = true
            dice = [1,2,3,4,5,6]
            random_index = parseInt(Math.random()*dice.length)
            dice_result = dice[random_index]
            scores[user_id].innerText = dice_result
        }

        winnerButton.addEventListener("click", findWinner)

        function findWinner(){
            winnerButton.disabled = true
            max = 0
            for(t of scores){
                if(t.innerText > max){
                    max = t.innerText
                }
            }
            names= ""
            for(i = 0; i<scores.length;i++){
                if(scores[i].innerText == max){
                    names = names + players[i].value + ","
                }
            }
            result.innerText = `Winners are ${names.substr(0,names.length-1)} as they scored ${max}`
         
        }

    </script>
    
</body>
</html>